<div class="container">
  <div class="row mt-5">
    <div class="col">
      <%= month_calendar events: @events do |date, events| %>
        <% if date.wday == 0 %>
          <span class="text-danger"><%= date.day %></span>
        <% else %>
          <%= date.day %>
        <% end %>
        <% is_holiday_name = HolidayJapan.name(Date.new(date.year, date.month, date.day)) %>
      <span class="holiday_name"><%= is_holiday_name %></span>          
        <% events.each do |event| %>
          <div class="event-font">
            <%= link_to admin_event_path(event) do %><span class="text-secondary bg-yellow"><%= event.title %></span><% end %>
          </div>
        <% end %>
      <% end %>
    </div>
    <% if admin_signed_in? %>
    <div class="col-lg-3 mt-5 offset-lg-1">
      <h3>新規登録</h3>
      <%= form_with(model: @event, url: admin_events_path, local: true, class: 'needs-validation', html: {novalidate: true}) do |f| %>
        <div class="form-group row mx-auto">
          <%= f.label:"タイトル" %>
          <%= f.text_field :title, autofocus: true,class: 'form-control', required: true%>
          <div class="invalid-feedback row offset-lg-1 offset-md-2 offset-1">
              タイトルを入力してください。
          </div>
        </div>
        <div class="form-group row mx-auto">
          <%= f.label:"日付"%>
          <%= f.date_field :start_time, autofocus: true,class: 'form-control', required: true%>
          <div class="invalid-feedback row offset-lg-1 offset-md-2 offset-1">
            日付を入力してください。
          </div>
        </div>
        <div class="form-group row mx-auto">
          <%= f.label:"詳細"%>
          <%= f.text_area :content, autofocus: true,class: 'form-control' , required: true%>
          <div class="invalid-feedback row offset-lg-1 offset-md-2 offset-1">
            詳細を入力してください。
          </div>
        </div>
        <div class="col text-center">
          <%= f.submit"新規登録", class: "btn btn-gray text-white mt-3"  %>
        </div>
      <% end %>
    </div>
    <% end %>
  </div>
</div>