<div class="container">
  <h2 class="col-md-7 mt-3 text-center">子ども情報登録/一覧</h2>
  <%= form_with(model: @child, url: admin_customer_children_path, local: true, class: 'needs-validation', html: {novalidate: true}) do |f| %>
    <%= render partial: "admin/children/form", locals: { f: f } %>
    <div class="col-md-10 text-right">
      <%= f.submit "新規登録", class: "btn btn-gray text-white rounded-pill col-md-2 col-4 mt-3 " %>
    </div>
  <% end %>
  <div class="row d-flex justify-content-center">
    <div class="col-md-9 mt-5 table-responsive">
     <table class="table table-bordered text-nowrap">
      <thead class="thead-light">
        <tr class="">
          <th>名前</th>
          <th>ふりがな</th>
          <th>誕生日</th>
          <th>年齢</th>
          <th>クラス</th>
          <th></th>
        </tr>
      </thead>
     <tbody>
     <% @children.each do |child| %>
        <tr>
          <td><%= child.name %></td>
          <td><%= child.kana_name %></td>
          <td><%= child.birthday %></td>
          <td><%= (Date.today.strftime("%Y%m%d").to_i - child.birthday.strftime("%Y%m%d").to_i) / 10000  %> 歳
              <%= ((Date.today.strftime("%Y%m%d").to_i - child.birthday.strftime("%Y%m%d").to_i) /100).to_s.split("")[-1] %> カ月
          </td>
          <td><%= child.group.name %></td>
          <td class="text-center"><%= link_to "編集する", edit_admin_customer_child_path(@customer, child), class: "btn btn-outline-secondary rounded-pill text-dark text-center mr-3" %>
            <%= link_to "削除する", admin_customer_child_path(@customer, child.id), class: "btn btn-outline-danger rounded-pill", method: :delete , "data-confirm" => "本当に削除してよろしいでしょうか?"%></td>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
    </div>
  </div>
</div>

